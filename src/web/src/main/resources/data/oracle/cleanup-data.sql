DROP TABLE "KN_USER_ROLE";

DROP TABLE "KN_ROLE_RESOURCE";

DROP TABLE "KN_USER";

DROP TABLE "KN_RESOURCE";

DROP TABLE "KN_POSITION_BRANCHED_PASSAGE";

DROP TABLE "KN_EMPLOYEE_ORGANIZATION";

DROP TABLE "KN_EMPLOYEE_POSITION";

DROP TABLE "KN_EMPLOYEE_TEAM";

DROP TABLE "KN_ORGANIZATION";

DROP TABLE "KN_POSITION";

DROP TABLE "KN_TEAM";

DROP TABLE "KN_EMPLOYEE";

CREATE TABLE "KN_RESOURCE" (
  "ID" NUMBER (19, 0) NOT NULL,
  "CREATE_ID" NUMBER (19, 0),
  "CREATE_TIME" NUMBER (19, 0),
  "UPDATE_ID" NUMBER (19, 0),
  "UPDATE_TIME" NUMBER (19, 0),
  "ACTIVE" VARCHAR2 (255CHAR),
  "CODE" VARCHAR2 (255CHAR),
  "DEPTH" NUMBER (19, 0),
  "DESCRIPTION" VARCHAR2 (255CHAR),
  "EN_TITLE" VARCHAR2 (255CHAR),
  "ICON" VARCHAR2 (255CHAR),
  "MARK_NAME" VARCHAR2 (255CHAR),
  "NAME" VARCHAR2 (255CHAR),
  "PATH" VARCHAR2 (255CHAR),
  "SEQ" NUMBER (19, 0),
  "SUP_ID" NUMBER (19, 0),
  "TYPE" VARCHAR2 (255CHAR),
  "URL" VARCHAR2 (255CHAR),
  "VERSION" VARCHAR2 (255CHAR)
);

DROP TABLE "KN_ROLE";

CREATE TABLE "KN_ROLE" (
  "ID" NUMBER (19, 0) NOT NULL,
  "CREATE_ID" NUMBER (19, 0),
  "CREATE_TIME" NUMBER (19, 0),
  "UPDATE_ID" NUMBER (19, 0),
  "UPDATE_TIME" NUMBER (19, 0),
  "ACTIVE" VARCHAR2 (10CHAR),
  "CODE" VARCHAR2 (13CHAR),
  "DESCRIPTION" VARCHAR2 (500CHAR),
  "NAME" VARCHAR2 (50CHAR)
);

CREATE TABLE "KN_ROLE_RESOURCE" (
  "ROLE_ID" NUMBER (19, 0) NOT NULL,
  "RES_ID" NUMBER (19, 0) NOT NULL
);

CREATE TABLE "KN_USER" (
  "ID" NUMBER (19, 0) NOT NULL,
  "CREATE_ID" NUMBER (19, 0),
  "CREATE_TIME" NUMBER (19, 0),
  "UPDATE_ID" NUMBER (19, 0),
  "UPDATE_TIME" NUMBER (19, 0),
  "EMAIL" VARCHAR2 (50CHAR) NOT NULL,
  "LOGIN_IP" VARCHAR2 (50CHAR),
  "LOGIN_NAME" VARCHAR2 (100CHAR) NOT NULL,
  "LOGIN_TIME" NUMBER (19, 0),
  "NAME" VARCHAR2 (50CHAR),
  "USER_ONLINE" NUMBER (10, 0),
  "PASSWORD" VARCHAR2 (100CHAR),
  "SALT" VARCHAR2 (20CHAR) NOT NULL,
  "STATUS" VARCHAR2 (10CHAR) NOT NULL
);

CREATE TABLE "KN_USER_ROLE" (
  "USER_ID" NUMBER (19, 0) NOT NULL,
  "ROLE_ID" NUMBER (19, 0) NOT NULL
);

CREATE TABLE "KN_EMPLOYEE" (
  "ID" NUMBER (19, 0) NOT NULL,
  "ADDRESS" VARCHAR2 (200CHAR),
  "EMAIL" VARCHAR2 (100CHAR),
  "IMAGE_ADDRESS" VARCHAR2 (100CHAR),
  "JOB" VARCHAR2 (10CHAR),
  "LOGIN_NAME" VARCHAR2 (100CHAR) NOT NULL,
  "MARK_NAME" VARCHAR2 (100CHAR),
  "PHONE" VARCHAR2 (20CHAR),
  "SEX" VARCHAR2 (10CHAR),
  "SIGNATURE" VARCHAR2 (255CHAR),
  "TELEPHONE" VARCHAR2 (20CHAR),
  "USER_ID" VARCHAR2 (200CHAR),
  "USER_NAME" VARCHAR2 (40CHAR),
  "USER_SYSTEM" VARCHAR2 (40CHAR),
  "USER_TYPE" VARCHAR2 (40CHAR),
  "WEIXIN_ID" VARCHAR2 (100CHAR)
);

CREATE TABLE "KN_ORGANIZATION" (
  "ID" NUMBER (19, 0) NOT NULL,
  "ACTIVE" VARCHAR2 (10CHAR),
  "CODE" VARCHAR2 (10CHAR),
  "DEPTH" NUMBER (19, 0),
  "DESCRIPTION" VARCHAR2 (200CHAR),
  "NAME" VARCHAR2 (50CHAR),
  "ORG_TYPE" VARCHAR2 (20CHAR),
  "PATH" VARCHAR2 (100CHAR),
  "SEQ" NUMBER (19, 0),
  "SUP_ID" NUMBER (19, 0)
);

CREATE TABLE "KN_EMPLOYEE_ORGANIZATION" (
  "CHARGE" NUMBER (10, 0) NOT NULL,
  "MAJOR" NUMBER (10, 0) NOT NULL,
  "EMP_ID" NUMBER (19, 0) NOT NULL,
  "ORG_ID" NUMBER (19, 0) NOT NULL
);

CREATE TABLE "KN_POSITION" (
  "ID" NUMBER (19, 0) NOT NULL,
  "CREATE_ID" NUMBER (19, 0),
  "CREATE_TIME" NUMBER (19, 0),
  "UPDATE_ID" NUMBER (19, 0),
  "UPDATE_TIME" NUMBER (19, 0),
  "ACTIVE" VARCHAR2 (10CHAR),
  "CODE" VARCHAR2 (10CHAR),
  "DEPTH" NUMBER (19, 0),
  "DESCRIPTION" VARCHAR2 (200CHAR),
  "NAME" VARCHAR2 (100CHAR),
  "PATH" VARCHAR2 (100CHAR),
  "SEQ" NUMBER (19, 0),
  "SUP_ID" NUMBER (19, 0)
);

CREATE TABLE "KN_EMPLOYEE_POSITION" (
  "MAJOR" NUMBER (10, 0),
  "EMP_ID" NUMBER (19, 0) NOT NULL,
  "POS_ID" NUMBER (19, 0) NOT NULL
);

CREATE TABLE "KN_POSITION_BRANCHED_PASSAGE" (
  "ID" NUMBER (19, 0) NOT NULL,
  "LEADER_ID" NUMBER (19, 0),
  "LEADER_NAME" VARCHAR2 (100CHAR),
  "POS_CODE" VARCHAR2 (10CHAR),
  "POS_ID" NUMBER (19, 0),
  "POS_NAME" VARCHAR2 (100CHAR),
  "SUBORDINATE_ID" NUMBER (19, 0),
  "SUBORDINATE_NAME" VARCHAR2 (100CHAR)
);

CREATE TABLE "KN_TEAM" (
  "ID" NUMBER (19, 0) NOT NULL,
  "ACTIVE" VARCHAR2 (255CHAR),
  "CODE" VARCHAR2 (255CHAR),
  "DESCRIPTION" VARCHAR2 (255CHAR),
  "NAME" VARCHAR2 (255CHAR),
  "MASTER_ID" NUMBER (19, 0) NOT NULL
);

CREATE TABLE "KN_EMPLOYEE_TEAM" (
  "TEAM_ID" NUMBER (19, 0) NOT NULL,
  "EMP_ID" NUMBER (19, 0) NOT NULL
);

ALTER TABLE "KN_RESOURCE" ADD CONSTRAINT "KN_RESOURCE_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_RESOURCE" ADD CONSTRAINT "KN_RESOURCE_ID_CK" CHECK ("ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_ROLE" ADD CONSTRAINT "KN_ROLE_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_ROLE" ADD CONSTRAINT "KN_ROLE_CK" CHECK ("ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_ROLE_RESOURCE" ADD CONSTRAINT "KN_ROLE_RESOURCE_PK" PRIMARY KEY ("ROLE_ID", "RES_ID");

ALTER TABLE "KN_ROLE_RESOURCE" ADD CONSTRAINT "KN_ROLE_RESOURCE_ROLE_CK" CHECK ("ROLE_ID" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_ROLE_RESOURCE_RES_CK" CHECK ("RES_ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_ROLE_RESOURCE" ADD CONSTRAINT "FK_KN_ROLE_RESOURCE_RES" FOREIGN KEY ("RES_ID") REFERENCES "KN_RESOURCE" ("ID") ENABLE ADD CONSTRAINT "FK_KN_ROLE_RESOURCE__ROLE" FOREIGN KEY ("ROLE_ID") REFERENCES "KN_ROLE" ("ID") ENABLE;

ALTER TABLE "KN_USER" ADD CONSTRAINT "KN_USER_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_USER" ADD CONSTRAINT "KN_USER_CK" CHECK ("ID" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_USER_EMAIL_CK" CHECK ("EMAIL" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_USER_LN_CK" CHECK ("LOGIN_NAME" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_USER_SALT_CK" CHECK ("SALT" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_USER_ST_CK" CHECK ("STATUS" IS NOT NULL) ENABLE;

ALTER TABLE "KN_USER_ROLE" ADD CONSTRAINT "KN_USER_ROLE_UID_CK" CHECK ("USER_ID" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_USER_ROLE_RID_CK" CHECK ("ROLE_ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_USER_ROLE" ADD CONSTRAINT "FK_KN_USER_ROLE_RID" FOREIGN KEY ("ROLE_ID") REFERENCES "KN_ROLE" ("ID") ENABLE;

ALTER TABLE "KN_EMPLOYEE" ADD CONSTRAINT "KN_EMPLOYEE_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_EMPLOYEE" ADD CONSTRAINT "UK_KN_EMPLOYEE" UNIQUE ("LOGIN_NAME") ENABLE;

ALTER TABLE "KN_EMPLOYEE" ADD CONSTRAINT "KN_EMPLOYEE_CK" CHECK ("ID" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_EMPLOYEE_LN_CK" CHECK ("LOGIN_NAME" IS NOT NULL) ENABLE;

ALTER TABLE "KN_ORGANIZATION" ADD CONSTRAINT "KN_ORGANIZATION_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_ORGANIZATION" ADD CONSTRAINT "KN_ORGANIZATION_CK" CHECK ("ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_EMPLOYEE_ORGANIZATION" ADD CONSTRAINT "KN_EMPLOYEE_ORGANIZATION_PK" PRIMARY KEY ("EMP_ID", "ORG_ID");

ALTER TABLE "KN_EMPLOYEE_ORGANIZATION" ADD CONSTRAINT "KN_EMPLOYEE_ORGANIZATION_CCK" CHECK ("CHARGE" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_EMPLOYEE_ORGANIZATION_MCK" CHECK ("MAJOR" IS NOT NULL) ENABLE;

ALTER TABLE "KN_EMPLOYEE_ORGANIZATION" ADD CONSTRAINT "FK_KN_EMP_ORG_OID" FOREIGN KEY ("ORG_ID") REFERENCES "KN_ORGANIZATION" ("ID") ENABLE ADD CONSTRAINT "FK_KN_EMP_ORG_EID" FOREIGN KEY ("EMP_ID") REFERENCES "KN_EMPLOYEE" ("ID") ENABLE;

ALTER TABLE "KN_POSITION" ADD CONSTRAINT "KN_POSITION_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_POSITION" ADD CONSTRAINT "KN_POSITION_CK" CHECK ("ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_EMPLOYEE_POSITION" ADD CONSTRAINT "KN_EMPLOYEE_POSITION_PK" PRIMARY KEY ("EMP_ID", "POS_ID");

ALTER TABLE "KN_EMPLOYEE_POSITION" ADD CONSTRAINT "FK_KN_EMPLOYEE_POSITION_PID" FOREIGN KEY ("POS_ID") REFERENCES "KN_POSITION" ("ID") ENABLE ADD CONSTRAINT "FK_KN_EMPLOYEE_POSITION_EID" FOREIGN KEY ("EMP_ID") REFERENCES "KN_EMPLOYEE" ("ID") ENABLE;

ALTER TABLE "KN_POSITION_BRANCHED_PASSAGE" ADD CONSTRAINT "KN_POS_BRANCHED_PASSAGE_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_POSITION_BRANCHED_PASSAGE" ADD CONSTRAINT "KN_POS_BRANCHED_PASSAGE_CK" CHECK ("ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_TEAM" ADD CONSTRAINT "KN_TEAM_PK" PRIMARY KEY ("ID");

ALTER TABLE "KN_TEAM" ADD CONSTRAINT "KN_TEAM_ID_CK" CHECK ("ID" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_TEAM_MID_CK" CHECK ("MASTER_ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_TEAM" ADD CONSTRAINT "FK_KN_TEAM_MID" FOREIGN KEY ("MASTER_ID") REFERENCES "KN_EMPLOYEE" ("ID") ENABLE;

ALTER TABLE "KN_EMPLOYEE_TEAM" ADD CONSTRAINT "KN_EMPLOYEE_TEAM_PK" PRIMARY KEY ("EMP_ID", "TEAM_ID");

ALTER TABLE "KN_EMPLOYEE_TEAM" ADD CONSTRAINT "KN_EMPLOYEE_TEAM_TID_CK" CHECK ("TEAM_ID" IS NOT NULL) ENABLE ADD CONSTRAINT "KN_EMPLOYEE_TEAM_EID_CK" CHECK ("EMP_ID" IS NOT NULL) ENABLE;

ALTER TABLE "KN_EMPLOYEE_TEAM" ADD CONSTRAINT "FK_KN_EMPLOYEE_TEAM_EID" FOREIGN KEY ("EMP_ID") REFERENCES "KN_EMPLOYEE" ("ID") ENABLE ADD CONSTRAINT "FK_KN_EMPLOYEE_TEAM_TID" FOREIGN KEY ("TEAM_ID") REFERENCES "KN_TEAM" ("ID") ENABLE;